import{n as u,r as l,j as e,U as h,M as g,L as f,o as i,i as b}from"./index-CBEZQWhp.js";import{P as w}from"./package-CnLOzWAP.js";import{C as j}from"./circle-check-big-CHA0gCaF.js";import{C as N}from"./circle-alert-BzLtqy3G.js";import{K as x}from"./key-CcxL5v5n.js";const z=()=>{const{user:o}=u(),[s,t]=l.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[n,r]=l.useState({type:"",text:""}),[d,c]=l.useState(!1),m=async a=>{if(a.preventDefault(),r({type:"",text:""}),s.newPassword!==s.confirmPassword){r({type:"error",text:"New passwords do not match"});return}if(s.newPassword.length<6){r({type:"error",text:"New password must be at least 6 characters"});return}c(!0);try{await b.put("/auth/change-password",{currentPassword:s.currentPassword,newPassword:s.newPassword}),r({type:"success",text:"Password changed successfully!"}),t({currentPassword:"",newPassword:"",confirmPassword:""})}catch(p){r({type:"error",text:p.response?.data?.message||"Failed to change password"})}finally{c(!1)}};return e.jsx("div",{className:"min-h-screen bg-surface py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-4xl font-bold font-display text-midnight mb-2",children:["Account ",e.jsx("span",{className:"text-ocean",children:"Settings"})]}),e.jsx("p",{className:"text-gray-500",children:"Manage your account preferences"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-midnight mb-6",children:"Profile Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface rounded-xl",children:[e.jsx(h,{className:"text-ocean",size:20}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Name"}),e.jsx("div",{className:"font-semibold text-midnight",children:o?.name})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface rounded-xl",children:[e.jsx(g,{className:"text-ocean",size:20}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Email"}),e.jsx("div",{className:"font-semibold text-midnight",children:o?.email})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-bold text-midnight mb-4",children:"Quick Links"}),e.jsx("div",{className:"space-y-2",children:e.jsxs(f,{to:"/dashboard",className:"flex items-center gap-3 p-3 hover:bg-surface rounded-xl transition-colors",children:[e.jsx(w,{className:"text-ocean",size:18}),e.jsx("span",{className:"text-gray-700 font-medium",children:"My Orders"})]})})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"bg-ocean text-white p-3 rounded-xl",children:e.jsx(i,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-midnight",children:"Change Password"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]})]}),n.text&&e.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center gap-3 ${n.type==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[n.type==="success"?e.jsx(j,{size:20}):e.jsx(N,{size:20}),e.jsx("span",{className:"font-semibold",children:n.text})]}),e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(i,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"password",value:s.currentPassword,onChange:a=>t({...s,currentPassword:a.target.value}),required:!0,className:"w-full pl-12 pr-4 py-3.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-ocean focus:border-transparent transition-all",placeholder:"Enter current password"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"password",value:s.newPassword,onChange:a=>t({...s,newPassword:a.target.value}),required:!0,minLength:"6",className:"w-full pl-12 pr-4 py-3.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-ocean focus:border-transparent transition-all",placeholder:"Enter new password (min 6 characters)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"password",value:s.confirmPassword,onChange:a=>t({...s,confirmPassword:a.target.value}),required:!0,className:"w-full pl-12 pr-4 py-3.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-ocean focus:border-transparent transition-all",placeholder:"Confirm new password"})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx("button",{type:"submit",disabled:d,className:"flex-1 px-6 py-3.5 bg-ocean hover:bg-ocean-dark text-white font-bold rounded-xl transition-all shadow-lg shadow-ocean/20 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Updating...":"Update Password"}),e.jsx("button",{type:"button",onClick:()=>{t({currentPassword:"",newPassword:"",confirmPassword:""}),r({type:"",text:""})},className:"px-6 py-3.5 border border-gray-200 text-gray-600 hover:bg-gray-50 font-semibold rounded-xl transition-all",children:"Clear"})]})]})]})})]})]})})};export{z as default};
