import{r as a,b as f,a as g,d as u,j as e,L as p,f as j,g as b,i as N}from"./index-BvVH5bB-.js";import{S as y}from"./search-DGnGWV4-.js";import{S as v}from"./star-DInRMc2s.js";const C=()=>{const[n,c]=a.useState([]),[t,o]=a.useState(""),{addToCart:x}=f(),{formatPrice:d}=g(),{isWholesale:l,formatPrice:r}=u();a.useEffect(()=>{(async()=>{const h=await N.get("/products");c(h.data)})()},[]);const i=n.filter(s=>s.name.toLowerCase().includes(t.toLowerCase())),m=s=>{x(s,1)};return e.jsx("div",{className:"min-h-screen bg-surface py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-12",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-bold font-display text-midnight mb-2",children:["Sea ",e.jsx("span",{className:"text-ocean",children:"Collection"})]}),e.jsx("p",{className:"text-gray-500",children:"Discover our premium selection of fresh seafood"})]}),e.jsxs("div",{className:"relative w-full md:w-96",children:[e.jsx(y,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search fresh fish...",className:"w-full pl-12 pr-4 py-3.5 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-ocean focus:border-transparent transition-all bg-white",value:t,onChange:s=>o(s.target.value)})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:i.map(s=>e.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl hover:shadow-ocean/10 transition-all duration-300 group",children:[e.jsxs(p,{to:`/product/${s.id}`,className:"block relative overflow-hidden h-64",children:[e.jsx("img",{src:s.image_url?`${j}${s.image_url}`:"https://placehold.co/400x300?text=Fish",alt:s.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),e.jsx("div",{className:"absolute top-4 right-4 bg-midnight text-white text-xs font-bold px-3 py-1.5 rounded-full",children:s.category||"Fresh"}),s.stock_quantity<=0&&e.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:e.jsx("span",{className:"bg-red-500 text-white px-6 py-2 rounded-full font-bold",children:"Out of Stock"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-bold text-lg text-midnight group-hover:text-ocean transition-colors",children:s.name}),e.jsxs("div",{className:"flex items-center gap-1 text-yellow-400 text-xs font-bold",children:[e.jsx(v,{size:12,fill:"currentColor"})," 4.9"]})]}),e.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2 h-10",children:s.description||"Premium quality seafood sourced directly from trusted fisheries."}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{children:l&&s.wholesale_price?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-ocean font-bold text-2xl",children:["$",d(s.wholesale_price).replace("$","")]}),e.jsx("span",{className:"text-gray-400 text-sm ml-1",children:"/ kg"}),e.jsx("div",{className:"text-xs text-blue-600 font-semibold mt-1",children:"Wholesale Rate"}),s.wholesale_moq>0&&e.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:["Min Order: ",s.wholesale_moq," kg"]})]}):e.jsxs(e.Fragment,{children:[s.discount_percent>0?e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-gray-400 text-sm line-through",children:["$",r(s.price)]}),e.jsxs("span",{className:"bg-green-100 text-green-700 text-xs font-bold px-2 py-0.5 rounded-full",children:["-",s.discount_percent,"%"]})]}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsxs("span",{className:"text-ocean font-bold text-2xl",children:["$",(parseFloat(s.price)*(1-s.discount_percent/100)).toFixed(2)]}),e.jsx("span",{className:"text-gray-400 text-sm",children:"/ kg"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-ocean font-bold text-2xl",children:["$",r(s.price)]}),e.jsx("span",{className:"text-gray-400 text-sm ml-1",children:"/ kg"})]}),l&&e.jsx("div",{className:"text-xs text-green-600 font-semibold mt-1",children:"ðŸ’° 20% Wholesale Discount"})]})}),e.jsxs("button",{onClick:()=>m(s),disabled:s.stock_quantity<=0,className:`px-4 py-2.5 rounded-xl font-bold flex items-center gap-2 transition-all ${s.stock_quantity>0?"bg-ocean text-white hover:bg-ocean-dark shadow-lg shadow-ocean/20":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:[e.jsx(b,{size:18}),s.stock_quantity>0?"Add":"Out"]})]})]})]},s.id))}),i.length===0&&e.jsx("div",{className:"text-center py-20",children:e.jsxs("p",{className:"text-gray-400 text-lg",children:['No products found matching "',t,'"']})})]})})};export{C as default};
