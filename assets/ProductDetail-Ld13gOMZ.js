import{k as u,r as n,b as y,l as f,d as j,a as k,j as e,f as v,P as b,g as _,i as w}from"./index-ck_xCpWt.js";import{A as S}from"./arrow-left-CsMuG9ow.js";import{M as z}from"./minus-DCJ83I7n.js";const B=()=>{const{id:c}=u(),[t,p]=n.useState(null),[l,r]=n.useState(1),{addToCart:x}=y(),h=f(),{isWholesale:s}=j(),{formatPrice:m}=k(),[a,i]=n.useState("");n.useEffect(()=>{(async()=>{const d=await w.get(`/products/${c}`);p(d.data),s&&d.data.wholesale_moq>0&&r(d.data.wholesale_moq)})()},[c,s]);const g=()=>{x(t,l),i(""),s&&t.wholesale_moq>0&&l<t.wholesale_moq?(i(`Note: You need ${t.wholesale_moq}kg to unlock wholesale pricing. Added at retail price.`),setTimeout(()=>i(""),4e3)):(i("Added to cart!"),setTimeout(()=>i(""),2e3))};return t?e.jsx("div",{style:{padding:"60px 0"},children:e.jsxs("div",{className:"container",children:[e.jsxs("button",{onClick:()=>h(-1),style:{display:"flex",alignItems:"center",gap:"5px",background:"none",marginBottom:"30px",color:"#666"},children:[e.jsx(S,{size:20})," Back to products"]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"60px",alignItems:"start"},children:[e.jsx("div",{className:"card",children:e.jsx("img",{src:t.image_url?`${v}${t.image_url}`:"https://placehold.co/600x450?text=Fish",alt:t.name,style:{width:"100%",borderRadius:"8px"}})}),e.jsxs("div",{children:[e.jsx("h1",{style:{fontSize:"40px",marginBottom:"10px"},children:t.name}),e.jsx("div",{style:{marginBottom:"20px"},children:s&&t.wholesale_price?e.jsxs("div",{children:[e.jsxs("p",{style:{color:"var(--primary)",fontWeight:"700",fontSize:"28px",marginBottom:"5px"},children:["$",m(t.wholesale_price).replace("$","")," ",e.jsx("span",{style:{fontSize:"18px",color:"#666"},children:"/ kg"})]}),e.jsx("p",{style:{color:"#005f91",fontSize:"14px",fontWeight:"600"},children:"Wholesale Rate Applied"}),t.wholesale_moq>0&&e.jsxs("p",{style:{color:"#666",fontSize:"14px"},children:["Minimum Order Quantity: ",t.wholesale_moq," kg"]})]}):e.jsxs("p",{style:{color:"var(--primary)",fontWeight:"700",fontSize:"28px",marginBottom:"20px"},children:["$",t.price," / kg",s&&e.jsx("span",{style:{display:"block",fontSize:"14px",color:"green"},children:"20% Wholesale Discount Applied"})]})}),e.jsxs("div",{style:{marginBottom:"30px"},children:[e.jsx("h4",{style:{marginBottom:"10px"},children:"Description"}),e.jsx("p",{style:{color:"#555",lineHeight:"1.8"},children:t.description})]}),e.jsxs("div",{style:{marginBottom:"30px"},children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Availability:"})," ",t.stock_quantity>0?`${t.stock_quantity} kg in stock`:"Out of Stock"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Category:"})," ",t.category]})]}),t.stock_quantity>0&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[e.jsx("span",{children:"Quantity:"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",border:"1px solid #ddd",borderRadius:"6px"},children:[e.jsx("button",{onClick:()=>r(o=>Math.max(1,o-1)),style:{padding:"10px",background:"#f5f5f5"},children:e.jsx(z,{size:16})}),e.jsx("span",{style:{padding:"0 20px",fontWeight:"600"},children:l}),e.jsx("button",{onClick:()=>r(o=>o+1),style:{padding:"10px",background:"#f5f5f5"},children:e.jsx(b,{size:16})})]}),e.jsx("span",{children:"kg"})]}),a&&e.jsxs("p",{className:`font-medium text-sm animate-pulse ${a.startsWith("Note")?"text-orange-500":"text-green-600"}`,children:[a.startsWith("Note")?"ℹ️":"✅"," ",a]}),e.jsxs("button",{onClick:g,className:"btn btn-accent",style:{padding:"15px 40px",fontSize:"18px",display:"flex",alignItems:"center",gap:"10px",width:"fit-content"},children:[e.jsx(_,{size:24})," Add to Cart"]})]})]})]})]})}):e.jsx("div",{className:"container",style:{padding:"40px"},children:"Loading..."})};export{B as default};
